0000000000000000000000000000000000000000;;	apiVersion: apps/v1beta1
0000000000000000000000000000000000000000;;	kind: StatefulSet
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: zoo
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  serviceName: "zk"
0000000000000000000000000000000000000000;;	  replicas: 3
0000000000000000000000000000000000000000;;	  template:
0000000000000000000000000000000000000000;;	    metadata:
0000000000000000000000000000000000000000;;	      labels:
0000000000000000000000000000000000000000;;	        app: zk
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      initContainers:
0000000000000000000000000000000000000000;;	      - name: install
0000000000000000000000000000000000000000;;	        image: gcr.io/google_containers/zookeeper-install-3.5.0-alpha:e2e
0000000000000000000000000000000000000000;;	        imagePullPolicy: Always
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - "--install-into=/opt"
0000000000000000000000000000000000000000;;	        - "--work-dir=/work-dir"
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: "/opt/"
0000000000000000000000000000000000000000;;	        - name: workdir
0000000000000000000000000000000000000000;;	          mountPath: "/work-dir"
0000000000000000000000000000000000000000;;	      - name: bootstrap
0000000000000000000000000000000000000000;;	        image: java:openjdk-8-jre
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	        - "/work-dir/peer-finder"
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - -on-start="/work-dir/on-start.sh"
0000000000000000000000000000000000000000;;	        - "-service=zk"
0000000000000000000000000000000000000000;;	        env:
0000000000000000000000000000000000000000;;	        - name: POD_NAMESPACE
0000000000000000000000000000000000000000;;	          valueFrom:
0000000000000000000000000000000000000000;;	            fieldRef:
0000000000000000000000000000000000000000;;	              apiVersion: v1
0000000000000000000000000000000000000000;;	              fieldPath: metadata.namespace
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: "/opt"
0000000000000000000000000000000000000000;;	        - name: workdir
0000000000000000000000000000000000000000;;	          mountPath: "/work-dir"
0000000000000000000000000000000000000000;;	        - name: datadir
0000000000000000000000000000000000000000;;	          mountPath: "/tmp/zookeeper"
0000000000000000000000000000000000000000;;	      containers:
0000000000000000000000000000000000000000;;	      - name: zk
0000000000000000000000000000000000000000;;	        image: java:openjdk-8-jre
0000000000000000000000000000000000000000;;	        ports:
0000000000000000000000000000000000000000;;	        - containerPort: 2888
0000000000000000000000000000000000000000;;	          name: peer
0000000000000000000000000000000000000000;;	        - containerPort: 3888
0000000000000000000000000000000000000000;;	          name: leader-election
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	        - /opt/zookeeper/bin/zkServer.sh
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - start-foreground
0000000000000000000000000000000000000000;;	        readinessProbe:
0000000000000000000000000000000000000000;;	          exec:
0000000000000000000000000000000000000000;;	            command:
0000000000000000000000000000000000000000;;	            - sh
0000000000000000000000000000000000000000;;	            - -c
0000000000000000000000000000000000000000;;	            - "/opt/zookeeper/bin/zkCli.sh ls /"
0000000000000000000000000000000000000000;;	          initialDelaySeconds: 15
0000000000000000000000000000000000000000;;	          timeoutSeconds: 5
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: datadir
0000000000000000000000000000000000000000;;	          mountPath: /tmp/zookeeper
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: /opt
0000000000000000000000000000000000000000;;	        # Mount the work-dir just for debugging
0000000000000000000000000000000000000000;;	        - name: workdir
0000000000000000000000000000000000000000;;	          mountPath: /work-dir
0000000000000000000000000000000000000000;;	      volumes:
0000000000000000000000000000000000000000;;	      - name: opt
0000000000000000000000000000000000000000;;	        emptyDir: {}
0000000000000000000000000000000000000000;;	      - name: workdir
0000000000000000000000000000000000000000;;	        emptyDir: {}
0000000000000000000000000000000000000000;;	  volumeClaimTemplates:
0000000000000000000000000000000000000000;;	  - metadata:
0000000000000000000000000000000000000000;;	      name: datadir
0000000000000000000000000000000000000000;;	      annotations:
0000000000000000000000000000000000000000;;	        volume.alpha.kubernetes.io/storage-class: anything
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      accessModes: [ "ReadWriteOnce" ]
0000000000000000000000000000000000000000;;	      resources:
0000000000000000000000000000000000000000;;	        requests:
0000000000000000000000000000000000000000;;	          storage: 1Gi
