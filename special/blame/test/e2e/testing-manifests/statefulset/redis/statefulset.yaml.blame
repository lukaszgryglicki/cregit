0000000000000000000000000000000000000000;;	apiVersion: apps/v1beta1
0000000000000000000000000000000000000000;;	kind: StatefulSet
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: rd
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  serviceName: "redis"
0000000000000000000000000000000000000000;;	  replicas: 3
0000000000000000000000000000000000000000;;	  template:
0000000000000000000000000000000000000000;;	    metadata:
0000000000000000000000000000000000000000;;	      labels:
0000000000000000000000000000000000000000;;	        app: redis
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      initContainers:
0000000000000000000000000000000000000000;;	      - name: install
0000000000000000000000000000000000000000;;	        image: gcr.io/google_containers/redis-install-3.2.0:e2e
0000000000000000000000000000000000000000;;	        imagePullPolicy: Always
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - "--install-into=/opt"
0000000000000000000000000000000000000000;;	        - "--work-dir=/work-dir"
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: "/opt"
0000000000000000000000000000000000000000;;	        - name: workdir
0000000000000000000000000000000000000000;;	          mountPath: "/work-dir"
0000000000000000000000000000000000000000;;	      - name: bootstrap
0000000000000000000000000000000000000000;;	        image: debian:jessie
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	        - "/work-dir/peer-finder"
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - -on-start="/work-dir/on-start.sh"
0000000000000000000000000000000000000000;;	        - "-service=redis"
0000000000000000000000000000000000000000;;	        env:
0000000000000000000000000000000000000000;;	        - name: POD_NAMESPACE
0000000000000000000000000000000000000000;;	          valueFrom:
0000000000000000000000000000000000000000;;	            fieldRef:
0000000000000000000000000000000000000000;;	              apiVersion: v1
0000000000000000000000000000000000000000;;	              fieldPath: metadata.namespace
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: "/opt"
0000000000000000000000000000000000000000;;	        - name: workdir
0000000000000000000000000000000000000000;;	          mountPath: "/work-dir"
0000000000000000000000000000000000000000;;	      containers:
0000000000000000000000000000000000000000;;	      - name: redis
0000000000000000000000000000000000000000;;	        image: debian:jessie
0000000000000000000000000000000000000000;;	        ports:
0000000000000000000000000000000000000000;;	        - containerPort: 6379
0000000000000000000000000000000000000000;;	          name: peer
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	        - /opt/redis/redis-server
0000000000000000000000000000000000000000;;	        args:
0000000000000000000000000000000000000000;;	        - /opt/redis/redis.conf
0000000000000000000000000000000000000000;;	        readinessProbe:
0000000000000000000000000000000000000000;;	          exec:
0000000000000000000000000000000000000000;;	            command:
0000000000000000000000000000000000000000;;	            - sh
0000000000000000000000000000000000000000;;	            - -c
0000000000000000000000000000000000000000;;	            - "/opt/redis/redis-cli -h $(hostname) ping"
0000000000000000000000000000000000000000;;	          initialDelaySeconds: 15
0000000000000000000000000000000000000000;;	          timeoutSeconds: 5
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: datadir
0000000000000000000000000000000000000000;;	          mountPath: /data
0000000000000000000000000000000000000000;;	        - name: opt
0000000000000000000000000000000000000000;;	          mountPath: /opt
0000000000000000000000000000000000000000;;	      volumes:
0000000000000000000000000000000000000000;;	      - name: opt
0000000000000000000000000000000000000000;;	        emptyDir: {}
0000000000000000000000000000000000000000;;	      - name: workdir
0000000000000000000000000000000000000000;;	        emptyDir: {}
0000000000000000000000000000000000000000;;	  volumeClaimTemplates:
0000000000000000000000000000000000000000;;	  - metadata:
0000000000000000000000000000000000000000;;	      name: datadir
0000000000000000000000000000000000000000;;	      annotations:
0000000000000000000000000000000000000000;;	        volume.alpha.kubernetes.io/storage-class: anything
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      accessModes: [ "ReadWriteOnce" ]
0000000000000000000000000000000000000000;;	      resources:
0000000000000000000000000000000000000000;;	        requests:
0000000000000000000000000000000000000000;;	          storage: 1Gi
