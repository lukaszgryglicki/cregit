0000000000000000000000000000000000000000;;	// Copyright 2013 The Go Authors. All rights reserved.
0000000000000000000000000000000000000000;;	// Use of this source code is governed by a BSD-style
0000000000000000000000000000000000000000;;	// license that can be found in the LICENSE file.
20a23b516161fc6e4e2d00ed067520ad63629162;;	
0000000000000000000000000000000000000000;;	// +build !go1.2
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	package language
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	import "sort"
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func sortStable(s sort.Interface) {
0000000000000000000000000000000000000000;;		ss := stableSort{
0000000000000000000000000000000000000000;;			s:   s,
0000000000000000000000000000000000000000;;			pos: make([]int, s.Len()),
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		for i := range ss.pos {
0000000000000000000000000000000000000000;;			ss.pos[i] = i
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		sort.Sort(&ss)
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	type stableSort struct {
0000000000000000000000000000000000000000;;		s   sort.Interface
0000000000000000000000000000000000000000;;		pos []int
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func (s *stableSort) Len() int {
0000000000000000000000000000000000000000;;		return len(s.pos)
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func (s *stableSort) Less(i, j int) bool {
0000000000000000000000000000000000000000;;		return s.s.Less(i, j) || !s.s.Less(j, i) && s.pos[i] < s.pos[j]
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func (s *stableSort) Swap(i, j int) {
0000000000000000000000000000000000000000;;		s.s.Swap(i, j)
0000000000000000000000000000000000000000;;		s.pos[i], s.pos[j] = s.pos[j], s.pos[i]
0000000000000000000000000000000000000000;;	}
