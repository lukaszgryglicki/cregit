0000000000000000000000000000000000000000;;	package images
54f55c92d2241cbee62ced42c2bb584275ee6601;Godeps/_workspace/src/github.com/rackspace/gophercloud/openstack/compute/v2/images/results.go[Godeps/_workspace/src/github.com/rackspace/gophercloud/openstack/compute/v2/images/results.go][vendor/github.com/rackspace/gophercloud/openstack/compute/v2/images/results.go];	
0000000000000000000000000000000000000000;;	import (
0000000000000000000000000000000000000000;;		"github.com/mitchellh/mapstructure"
0000000000000000000000000000000000000000;;		"github.com/rackspace/gophercloud"
0000000000000000000000000000000000000000;;		"github.com/rackspace/gophercloud/pagination"
0000000000000000000000000000000000000000;;	)
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// GetResult temporarily stores a Get response.
0000000000000000000000000000000000000000;;	type GetResult struct {
0000000000000000000000000000000000000000;;		gophercloud.Result
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// DeleteResult represents the result of an image.Delete operation.
0000000000000000000000000000000000000000;;	type DeleteResult struct {
0000000000000000000000000000000000000000;;		gophercloud.ErrResult
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// Extract interprets a GetResult as an Image.
0000000000000000000000000000000000000000;;	func (gr GetResult) Extract() (*Image, error) {
0000000000000000000000000000000000000000;;		if gr.Err != nil {
0000000000000000000000000000000000000000;;			return nil, gr.Err
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		var decoded struct {
0000000000000000000000000000000000000000;;			Image Image `mapstructure:"image"`
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		err := mapstructure.Decode(gr.Body, &decoded)
0000000000000000000000000000000000000000;;		return &decoded.Image, err
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// Image is used for JSON (un)marshalling.
0000000000000000000000000000000000000000;;	// It provides a description of an OS image.
0000000000000000000000000000000000000000;;	type Image struct {
0000000000000000000000000000000000000000;;		// ID contains the image's unique identifier.
0000000000000000000000000000000000000000;;		ID string
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		Created string
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		// MinDisk and MinRAM specify the minimum resources a server must provide to be able to install the image.
0000000000000000000000000000000000000000;;		MinDisk int
0000000000000000000000000000000000000000;;		MinRAM  int
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		// Name provides a human-readable moniker for the OS image.
0000000000000000000000000000000000000000;;		Name string
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		// The Progress and Status fields indicate image-creation status.
0000000000000000000000000000000000000000;;		// Any usable image will have 100% progress.
0000000000000000000000000000000000000000;;		Progress int
0000000000000000000000000000000000000000;;		Status   string
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		Updated string
0000000000000000000000000000000000000000;;		
0000000000000000000000000000000000000000;;		Metadata map[string]string
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// ImagePage contains a single page of results from a List operation.
0000000000000000000000000000000000000000;;	// Use ExtractImages to convert it into a slice of usable structs.
0000000000000000000000000000000000000000;;	type ImagePage struct {
0000000000000000000000000000000000000000;;		pagination.LinkedPageBase
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// IsEmpty returns true if a page contains no Image results.
0000000000000000000000000000000000000000;;	func (page ImagePage) IsEmpty() (bool, error) {
0000000000000000000000000000000000000000;;		images, err := ExtractImages(page)
0000000000000000000000000000000000000000;;		if err != nil {
0000000000000000000000000000000000000000;;			return true, err
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		return len(images) == 0, nil
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// NextPageURL uses the response's embedded link reference to navigate to the next page of results.
0000000000000000000000000000000000000000;;	func (page ImagePage) NextPageURL() (string, error) {
0000000000000000000000000000000000000000;;		type resp struct {
0000000000000000000000000000000000000000;;			Links []gophercloud.Link `mapstructure:"images_links"`
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		var r resp
0000000000000000000000000000000000000000;;		err := mapstructure.Decode(page.Body, &r)
0000000000000000000000000000000000000000;;		if err != nil {
0000000000000000000000000000000000000000;;			return "", err
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		return gophercloud.ExtractNextURL(r.Links)
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// ExtractImages converts a page of List results into a slice of usable Image structs.
0000000000000000000000000000000000000000;;	func ExtractImages(page pagination.Page) ([]Image, error) {
0000000000000000000000000000000000000000;;		casted := page.(ImagePage).Body
0000000000000000000000000000000000000000;;		var results struct {
0000000000000000000000000000000000000000;;			Images []Image `mapstructure:"images"`
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		err := mapstructure.Decode(casted, &results)
0000000000000000000000000000000000000000;;		return results.Images, err
0000000000000000000000000000000000000000;;	}
