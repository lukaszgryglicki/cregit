0000000000000000000000000000000000000000;;	// Copyright 2013 ChaiShushan <chaishushan{AT}gmail.com>. All rights reserved.
0000000000000000000000000000000000000000;;	// Use of this source code is governed by a BSD-style
0000000000000000000000000000000000000000;;	// license that can be found in the LICENSE file.
64247eb69ec8b8707eb5c766a35ff8a3cd455896;;	
0000000000000000000000000000000000000000;;	package gettext
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	import (
0000000000000000000000000000000000000000;;		"os"
0000000000000000000000000000000000000000;;		"strings"
0000000000000000000000000000000000000000;;	)
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func getDefaultLocale() string {
0000000000000000000000000000000000000000;;		if v := os.Getenv("LC_MESSAGES"); v != "" {
0000000000000000000000000000000000000000;;			return simplifiedLocale(v)
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		if v := os.Getenv("LANG"); v != "" {
0000000000000000000000000000000000000000;;			return simplifiedLocale(v)
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		return "default"
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	func simplifiedLocale(lang string) string {
0000000000000000000000000000000000000000;;		// en_US/en_US.UTF-8/zh_CN/zh_TW/el_GR@euro/...
0000000000000000000000000000000000000000;;		if idx := strings.Index(lang, ":"); idx != -1 {
0000000000000000000000000000000000000000;;			lang = lang[:idx]
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		if idx := strings.Index(lang, "@"); idx != -1 {
0000000000000000000000000000000000000000;;			lang = lang[:idx]
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		if idx := strings.Index(lang, "."); idx != -1 {
0000000000000000000000000000000000000000;;			lang = lang[:idx]
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		return strings.TrimSpace(lang)
0000000000000000000000000000000000000000;;	}
