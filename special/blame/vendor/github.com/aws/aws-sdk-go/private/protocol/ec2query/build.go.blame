0000000000000000000000000000000000000000;;	// Package ec2query provides serialization of AWS EC2 requests and responses.
0000000000000000000000000000000000000000;;	package ec2query
b5a369483575c99a3598125e51d2fb065a91c6de;Godeps/_workspace/src/github.com/awslabs/aws-sdk-go/internal/protocol/ec2query/build.go[Godeps/_workspace/src/github.com/awslabs/aws-sdk-go/internal/protocol/ec2query/build.go][vendor/github.com/aws/aws-sdk-go/private/protocol/ec2query/build.go];	
0000000000000000000000000000000000000000;;	//go:generate go run -tags codegen ../../../models/protocol_tests/generate.go ../../../models/protocol_tests/input/ec2.json build_test.go
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	import (
0000000000000000000000000000000000000000;;		"net/url"
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		"github.com/aws/aws-sdk-go/aws/awserr"
0000000000000000000000000000000000000000;;		"github.com/aws/aws-sdk-go/aws/request"
0000000000000000000000000000000000000000;;		"github.com/aws/aws-sdk-go/private/protocol/query/queryutil"
0000000000000000000000000000000000000000;;	)
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// BuildHandler is a named request handler for building ec2query protocol requests
0000000000000000000000000000000000000000;;	var BuildHandler = request.NamedHandler{Name: "awssdk.ec2query.Build", Fn: Build}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// Build builds a request for the EC2 protocol.
0000000000000000000000000000000000000000;;	func Build(r *request.Request) {
0000000000000000000000000000000000000000;;		body := url.Values{
0000000000000000000000000000000000000000;;			"Action":  {r.Operation.Name},
0000000000000000000000000000000000000000;;			"Version": {r.ClientInfo.APIVersion},
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		if err := queryutil.Parse(body, r.Params, true); err != nil {
0000000000000000000000000000000000000000;;			r.Error = awserr.New("SerializationError", "failed encoding EC2 Query request", err)
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		if r.ExpireTime == 0 {
0000000000000000000000000000000000000000;;			r.HTTPRequest.Method = "POST"
0000000000000000000000000000000000000000;;			r.HTTPRequest.Header.Set("Content-Type", "application/x-www-form-urlencoded; charset=utf-8")
0000000000000000000000000000000000000000;;			r.SetBufferBody([]byte(body.Encode()))
0000000000000000000000000000000000000000;;		} else { // This is a pre-signed request
0000000000000000000000000000000000000000;;			r.HTTPRequest.Method = "GET"
0000000000000000000000000000000000000000;;			r.HTTPRequest.URL.RawQuery = body.Encode()
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	}
