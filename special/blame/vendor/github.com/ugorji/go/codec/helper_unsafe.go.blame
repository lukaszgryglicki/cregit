0000000000000000000000000000000000000000;;	// +build unsafe
d889ac23bcdf2804cc23257941dbc2c4eda70036;Godeps/_workspace/src/github.com/ugorji/go/codec/helper_unsafe.go[Godeps/_workspace/src/github.com/ugorji/go/codec/helper_unsafe.go][vendor/github.com/ugorji/go/codec/helper_unsafe.go];	
0000000000000000000000000000000000000000;;	// Copyright (c) 2012-2015 Ugorji Nwoke. All rights reserved.
0000000000000000000000000000000000000000;;	// Use of this source code is governed by a MIT license found in the LICENSE file.
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	package codec
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	import (
0000000000000000000000000000000000000000;;		"unsafe"
0000000000000000000000000000000000000000;;	)
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// This file has unsafe variants of some helper methods.
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	type unsafeString struct {
0000000000000000000000000000000000000000;;		Data uintptr
0000000000000000000000000000000000000000;;		Len  int
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	type unsafeSlice struct {
0000000000000000000000000000000000000000;;		Data uintptr
0000000000000000000000000000000000000000;;		Len  int
0000000000000000000000000000000000000000;;		Cap  int
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// stringView returns a view of the []byte as a string.
0000000000000000000000000000000000000000;;	// In unsafe mode, it doesn't incur allocation and copying caused by conversion.
0000000000000000000000000000000000000000;;	// In regular safe mode, it is an allocation and copy.
0000000000000000000000000000000000000000;;	func stringView(v []byte) string {
0000000000000000000000000000000000000000;;		if len(v) == 0 {
0000000000000000000000000000000000000000;;			return ""
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		bx := (*unsafeSlice)(unsafe.Pointer(&v))
0000000000000000000000000000000000000000;;		sx := unsafeString{bx.Data, bx.Len}
0000000000000000000000000000000000000000;;		return *(*string)(unsafe.Pointer(&sx))
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// bytesView returns a view of the string as a []byte.
0000000000000000000000000000000000000000;;	// In unsafe mode, it doesn't incur allocation and copying caused by conversion.
0000000000000000000000000000000000000000;;	// In regular safe mode, it is an allocation and copy.
0000000000000000000000000000000000000000;;	func bytesView(v string) []byte {
0000000000000000000000000000000000000000;;		if len(v) == 0 {
0000000000000000000000000000000000000000;;			return zeroByteSlice
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;		sx := (*unsafeString)(unsafe.Pointer(&v))
0000000000000000000000000000000000000000;;		bx := unsafeSlice{sx.Data, sx.Len, sx.Len}
0000000000000000000000000000000000000000;;		return *(*[]byte)(unsafe.Pointer(&bx))
0000000000000000000000000000000000000000;;	}
