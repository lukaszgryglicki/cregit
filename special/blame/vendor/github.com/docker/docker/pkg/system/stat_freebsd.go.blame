0000000000000000000000000000000000000000;;	package system
b515bda5eede841df021a5bfcc6c5c7c7a1e907e;;	
0000000000000000000000000000000000000000;;	import (
0000000000000000000000000000000000000000;;		"syscall"
0000000000000000000000000000000000000000;;	)
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// fromStatT converts a syscall.Stat_t type to a system.Stat_t type
0000000000000000000000000000000000000000;;	func fromStatT(s *syscall.Stat_t) (*StatT, error) {
0000000000000000000000000000000000000000;;		return &StatT{size: s.Size,
0000000000000000000000000000000000000000;;			mode: uint32(s.Mode),
0000000000000000000000000000000000000000;;			uid:  s.Uid,
0000000000000000000000000000000000000000;;			gid:  s.Gid,
0000000000000000000000000000000000000000;;			rdev: uint64(s.Rdev),
0000000000000000000000000000000000000000;;			mtim: s.Mtimespec}, nil
0000000000000000000000000000000000000000;;	}
0000000000000000000000000000000000000000;;	
0000000000000000000000000000000000000000;;	// Stat takes a path to a file and returns
0000000000000000000000000000000000000000;;	// a system.Stat_t type pertaining to that file.
0000000000000000000000000000000000000000;;	//
0000000000000000000000000000000000000000;;	// Throws an error if the file does not exist
0000000000000000000000000000000000000000;;	func Stat(path string) (*StatT, error) {
0000000000000000000000000000000000000000;;		s := &syscall.Stat_t{}
0000000000000000000000000000000000000000;;		if err := syscall.Stat(path, s); err != nil {
0000000000000000000000000000000000000000;;			return nil, err
0000000000000000000000000000000000000000;;		}
0000000000000000000000000000000000000000;;		return fromStatT(s)
0000000000000000000000000000000000000000;;	}
