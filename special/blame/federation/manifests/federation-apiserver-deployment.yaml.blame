0000000000000000000000000000000000000000;;	apiVersion: extensions/v1beta1
0000000000000000000000000000000000000000;;	kind: Deployment
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: {{.FEDERATION_APISERVER_DEPLOYMENT_NAME}}
0000000000000000000000000000000000000000;;	  namespace: {{.FEDERATION_NAMESPACE}}
0000000000000000000000000000000000000000;;	  labels:
0000000000000000000000000000000000000000;;	    app: federated-cluster
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  template:
0000000000000000000000000000000000000000;;	    metadata:
0000000000000000000000000000000000000000;;	      name: federation-apiserver
0000000000000000000000000000000000000000;;	      labels:
0000000000000000000000000000000000000000;;	        app: federated-cluster
0000000000000000000000000000000000000000;;	        module: federation-apiserver
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      containers:
0000000000000000000000000000000000000000;;	      - name: apiserver
0000000000000000000000000000000000000000;;	        image: {{.FEDERATION_APISERVER_IMAGE_REPO}}:{{.FEDERATION_APISERVER_IMAGE_TAG}}
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	        - /hyperkube
0000000000000000000000000000000000000000;;	        - federation-apiserver
0000000000000000000000000000000000000000;;	        - --bind-address=0.0.0.0
0000000000000000000000000000000000000000;;	        - --etcd-servers=http://localhost:2379
0000000000000000000000000000000000000000;;	        - --secure-port=443
0000000000000000000000000000000000000000;;	        {{if eq .IS_DNS_NAME "false"}}
0000000000000000000000000000000000000000;;	        - --advertise-address={{.FEDERATION_API_HOST}}
0000000000000000000000000000000000000000;;	        {{end}}
0000000000000000000000000000000000000000;;	        - --client-ca-file=/srv/kubernetes/ca.crt
0000000000000000000000000000000000000000;;	        - --basic-auth-file=/srv/kubernetes/basic-auth.csv
0000000000000000000000000000000000000000;;	        - --tls-cert-file=/srv/kubernetes/server.cert
0000000000000000000000000000000000000000;;	        - --tls-private-key-file=/srv/kubernetes/server.key
0000000000000000000000000000000000000000;;	        - --admission-control={{.FEDERATION_ADMISSION_CONTROL}}
0000000000000000000000000000000000000000;;	        - --token-auth-file=/srv/kubernetes/known-tokens.csv
0000000000000000000000000000000000000000;;	        - --anonymous-auth=false
0000000000000000000000000000000000000000;;	        - --storage-backend=etcd2
0000000000000000000000000000000000000000;;	        ports:
0000000000000000000000000000000000000000;;	        - containerPort: 443
0000000000000000000000000000000000000000;;	          name: https
0000000000000000000000000000000000000000;;	        - containerPort: 8080
0000000000000000000000000000000000000000;;	          name: local
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: federation-apiserver-secrets
0000000000000000000000000000000000000000;;	          mountPath: /srv/kubernetes/
0000000000000000000000000000000000000000;;	          readOnly: true
0000000000000000000000000000000000000000;;	      - name: etcd
0000000000000000000000000000000000000000;;	        image: gcr.io/google_containers/etcd:3.0.17
0000000000000000000000000000000000000000;;	        command:
0000000000000000000000000000000000000000;;	          - /usr/local/bin/etcd
0000000000000000000000000000000000000000;;	          - --data-dir
0000000000000000000000000000000000000000;;	          - /var/etcd/data
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - mountPath: /var/etcd
0000000000000000000000000000000000000000;;	          name: varetcd
0000000000000000000000000000000000000000;;	      volumes:
0000000000000000000000000000000000000000;;	      - name: federation-apiserver-secrets
0000000000000000000000000000000000000000;;	        secret:
0000000000000000000000000000000000000000;;	          secretName: federation-apiserver-secrets
0000000000000000000000000000000000000000;;	      - name: varetcd
0000000000000000000000000000000000000000;;	        persistentVolumeClaim:
0000000000000000000000000000000000000000;;	          claimName: {{.FEDERATION_APISERVER_DEPLOYMENT_NAME}}-etcd-claim
