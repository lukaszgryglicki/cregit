0000000000000000000000000000000000000000;;	apiVersion: v1
0000000000000000000000000000000000000000;;	kind: Service
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: wordpress-mysql
0000000000000000000000000000000000000000;;	  labels:
0000000000000000000000000000000000000000;;	    app: wordpress
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  ports:
0000000000000000000000000000000000000000;;	    - port: 3306
0000000000000000000000000000000000000000;;	  selector:
0000000000000000000000000000000000000000;;	    app: wordpress
0000000000000000000000000000000000000000;;	    tier: mysql
0000000000000000000000000000000000000000;;	  clusterIP: None
0000000000000000000000000000000000000000;;	---
0000000000000000000000000000000000000000;;	apiVersion: v1
0000000000000000000000000000000000000000;;	kind: PersistentVolumeClaim
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: mysql-pv-claim
0000000000000000000000000000000000000000;;	  labels:
0000000000000000000000000000000000000000;;	    app: wordpress
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  accessModes:
0000000000000000000000000000000000000000;;	    - ReadWriteOnce
0000000000000000000000000000000000000000;;	  resources:
0000000000000000000000000000000000000000;;	    requests:
0000000000000000000000000000000000000000;;	      storage: 20Gi
0000000000000000000000000000000000000000;;	---
0000000000000000000000000000000000000000;;	apiVersion: extensions/v1beta1
0000000000000000000000000000000000000000;;	kind: Deployment
0000000000000000000000000000000000000000;;	metadata:
0000000000000000000000000000000000000000;;	  name: wordpress-mysql
0000000000000000000000000000000000000000;;	  labels:
0000000000000000000000000000000000000000;;	    app: wordpress
0000000000000000000000000000000000000000;;	spec:
0000000000000000000000000000000000000000;;	  strategy:
0000000000000000000000000000000000000000;;	    type: Recreate
0000000000000000000000000000000000000000;;	  template:
0000000000000000000000000000000000000000;;	    metadata:
0000000000000000000000000000000000000000;;	      labels:
0000000000000000000000000000000000000000;;	        app: wordpress
0000000000000000000000000000000000000000;;	        tier: mysql
0000000000000000000000000000000000000000;;	    spec:
0000000000000000000000000000000000000000;;	      containers:
0000000000000000000000000000000000000000;;	      - image: mysql:5.6
0000000000000000000000000000000000000000;;	        name: mysql
0000000000000000000000000000000000000000;;	        env:
0000000000000000000000000000000000000000;;	          # $ kubectl create secret generic mysql-pass --from-file=password.txt
0000000000000000000000000000000000000000;;	          # make sure password.txt does not have a trailing newline
0000000000000000000000000000000000000000;;	        - name: MYSQL_ROOT_PASSWORD
0000000000000000000000000000000000000000;;	          valueFrom:
0000000000000000000000000000000000000000;;	            secretKeyRef:
0000000000000000000000000000000000000000;;	              name: mysql-pass
0000000000000000000000000000000000000000;;	              key: password.txt
0000000000000000000000000000000000000000;;	        ports:
0000000000000000000000000000000000000000;;	        - containerPort: 3306
0000000000000000000000000000000000000000;;	          name: mysql
0000000000000000000000000000000000000000;;	        volumeMounts:
0000000000000000000000000000000000000000;;	        - name: mysql-persistent-storage
0000000000000000000000000000000000000000;;	          mountPath: /var/lib/mysql
0000000000000000000000000000000000000000;;	      volumes:
0000000000000000000000000000000000000000;;	      - name: mysql-persistent-storage
0000000000000000000000000000000000000000;;	        persistentVolumeClaim:
0000000000000000000000000000000000000000;;	          claimName: mysql-pv-claim
